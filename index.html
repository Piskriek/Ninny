<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Little Bloom Academy</title>
    <meta name="description"
        content="A 26-week Grade R learning programme for kids and their guardians â€” Little Bloom Academy.">
    <meta name="theme-color" content="#ffb703">
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="app">

        <!-- â”€â”€ Sidebar â”€â”€ -->
        <aside class="sidebar">
            <div class="logo" id="logo-btn" aria-label="Open Parent Gate">
                <h1>ðŸŒ¸ Little Bloom</h1>
            </div>

            <button id="fullscreen-btn" class="btn"
                style="width:100%; margin-bottom:0.1rem; background:linear-gradient(135deg, var(--accent) 0%, #ff9e00 100%); color:white; font-size:0.9rem; padding:0.5rem; border-radius:12px; box-shadow:0 4px 10px rgba(255,183,3,0.3);">ðŸ“º
                Fullscreen</button>

            <!-- Week Navigator -->
            <div class="week-nav">
                <button id="prev-week" class="week-btn" aria-label="Previous week">â€¹</button>
                <span id="week-label" class="week-label">Week 1</span>
                <button id="next-week" class="week-btn" aria-label="Next week">â€º</button>
            </div>

            <!-- Day tabs: Mon â†’ Fri -->
            <div class="day-tabs">
                <div class="day-tab" data-day="monday">Mon</div>
                <div class="day-tab" data-day="tuesday">Tue</div>
                <div class="day-tab" data-day="wednesday">Wed</div>
                <div class="day-tab" data-day="thursday">Thu</div>
                <div class="day-tab" data-day="friday">Fri</div>
            </div>

            <!-- Activity nav (populated dynamically by app.js) -->
            <nav id="activity-nav"></nav>

            <div class="caretaker-note">
                <p>ðŸ”’ Tap the logo to unlock parent mode &amp; view progress ðŸ“Š</p>
            </div>
            <div style="display:flex; gap:0.5rem; margin-top:auto;">
                <button id="scale-down" class="btn"
                    style="flex:1; background:rgba(255,255,255,0.8); color:var(--text); font-size:1.2rem; padding:0.4rem; border-radius:12px; box-shadow:none;">-</button>
                <div
                    style="flex:2; text-align:center; display:flex; align-items:center; justify-content:center; font-size:0.8rem; font-weight:bold; color:var(--text); background:rgba(255,255,255,0.4); border-radius:12px;">
                    Zoom</div>
                <button id="scale-up" class="btn"
                    style="flex:1; background:rgba(255,255,255,0.8); color:var(--text); font-size:1.2rem; padding:0.4rem; border-radius:12px; box-shadow:none;">+</button>
            </div>
        </aside>

        <!-- â”€â”€ Main â”€â”€ -->
        <main class="main-content">
            <!-- Day banner strip -->
            <div id="day-banner" class="day-banner">
                <!-- filled by app.js -->
            </div>

            <!-- Game area -->
            <div id="game-container" class="card bounce-in">
                <!-- rendered by JS -->
            </div>
        </main>
    </div>

    <!-- Load order: audio â†’ data â†’ curriculum â†’ progress â†’ games â†’ app -->
    <script src="audio.js"></script>
    <script src="data.js"></script>
    <script src="curriculum.js"></script>
    <script src="progress.js"></script>
    <script src="games.js"></script>
    <script src="app.js"></script>

    <!-- PWA Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js').then((registration) => {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, (err) => {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>

</html>